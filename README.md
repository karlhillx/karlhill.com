# Karl Hill – Portfolio Website

A modern, production-ready portfolio built on Laravel with Tailwind CSS v4 and Vite. The codebase is optimized for fast iteration in development and straightforward deployment behind Nginx/PHP-FPM in production. This README targets developers who want to clone, iterate, and deploy with confidence.

## At a Glance
- Dark/Light theme with system-preference detection
- Fully responsive layout (Tailwind CSS v4)
- Server-rendered UI (Blade) with progressive enhancement (Alpine.js)
- Asset pipeline via Vite (HMR in dev, hashed assets in prod)
- Docker compose stack for Nginx + app image + Certbot (renewal)

## Tech Stack
- PHP 8.3+
- Laravel (Blade views, Artisan tooling)
- Tailwind CSS v4 (via @tailwindcss/vite)
- Vite 7
- Alpine.js 3
- Font Awesome 7

See package.json and vite.config.js for exact versions and configuration.

## Requirements
Choose one of the following setups:

- Native
  - PHP 8.3+
  - Composer 2.x
  - Node.js 20+ and npm 10+
  - SQLite or no DB (the portfolio pages are static/dynamic without a required RDBMS)

- Docker
  - Docker Engine 24+
  - docker-compose v2

## Repository Layout Highlights
- resources/views: Blade templates for pages and components
- public/: Public assets (entry HTML, images, compiled assets go to public/build)
- resources/css/app.css: Tailwind entrypoint; generated by Vite
- resources/js/app.js: Frontend bootstrap (Alpine, etc.)
- vite.config.js: Vite + Laravel/Vite plugin + Tailwind v4 integration
- tailwind.config.js: Tailwind configuration (v4)
- docker-compose.yml: Nginx, app image, Certbot renewal
- Makefile: Convenience targets for deployment/SSH
- Envoy.blade.php: Optional deployment tasks

## Environment Variables
Copy and adjust your .env file:

```sh
cp .env.example .env
php artisan key:generate
```

Common variables to review:

- APP_NAME, APP_ENV, APP_DEBUG, APP_URL
- LOG_CHANNEL
- SESSION_DRIVER, CACHE_DRIVER (file is fine for local)

This project does not require a database for core portfolio pages; you can keep DB_* unset or use SQLite if you later add dynamic content.

## Local Development (Native)
1. Clone and install dependencies
   ```sh
   git clone https://github.com/karlhillx/karlhill.com.git
   cd karlhill.com
   composer install
   npm install
   cp .env.example .env
   php artisan key:generate
   ```
2. Run the dev servers (in separate terminals or use a multiplexer)
   ```sh
   npm run dev      # Vite dev server with HMR
   php artisan serve  # Laravel dev server (defaults to http://127.0.0.1:8000)
   ```

The nginx service maps ports 80/443 and mounts the project for development. Certbot runs a renewal loop to keep certificates fresh when deployed on a server with proper DNS.

## Scripts
From package.json:
- npm run dev – Start Vite in development mode (HMR)
- npm run build – Build production assets (minified, hashed)

Useful Artisan commands:
- php artisan route:list
- php artisan view:clear && php artisan cache:clear && php artisan config:clear

## Building for Production
Generate optimized assets:
```sh
npm run build
php artisan optimize
```
This produces versioned assets in public/build and warms Laravel caches. Ensure APP_ENV=production and APP_DEBUG=false in .env for production.

## Deployment
Typical Nginx/PHP-FPM layout:
- Point Nginx root to public/
- Serve PHP via PHP-FPM (Unix socket or TCP)
- Ensure public/build is present (from npm run build)
- Set correct permissions for storage/ and bootstrap/cache/

Makefile targets:
- make deploy-image – Saves a Docker image named karlhillcom-app and streams it to the PRODUCTION host via SSH
- make ssh – SSH into the host defined by PRODUCTION in your .env

Also see Envoy.blade.php if you prefer Envoy-based deployments.

## Testing
If you add tests, run:
```sh
./vendor/bin/phpunit
```
Consider adding Pest/PHPUnit suites as the project grows.

## Styling & Linting
- Tailwind CSS v4 uses the new plugin @tailwindcss/vite; no PostCSS config file is required by default
- Use Prettier/ESLint if you adopt a richer JS toolchain; currently the project is minimal

## License
MIT License. See the [LICENSE](LICENSE) file.
